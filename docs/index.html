<!doctype html>
<html class="default no-js">
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>@textile/react-native-sdk</title>
	<meta name="description" content="">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" href="assets/css/main.css">
</head>
<body>
<header>
	<div class="tsd-page-toolbar">
		<div class="container">
			<div class="table-wrap">
				<div class="table-cell" id="tsd-search" data-index="assets/js/search.js" data-base=".">
					<div class="field">
						<label for="tsd-search-field" class="tsd-widget search no-caption">Search</label>
						<input id="tsd-search-field" type="text" />
					</div>
					<ul class="results">
						<li class="state loading">Preparing search index...</li>
						<li class="state failure">The search index is not available</li>
					</ul>
					<a href="index.html" class="title">@textile/react-native-sdk</a>
				</div>
				<div class="table-cell" id="tsd-widgets">
					<div id="tsd-filter">
						<a href="#" class="tsd-widget options no-caption" data-toggle="options">Options</a>
						<div class="tsd-filter-group">
							<div class="tsd-select" id="tsd-filter-visibility">
								<span class="tsd-select-label">All</span>
								<ul class="tsd-select-list">
									<li data-value="public">Public</li>
									<li data-value="protected">Public/Protected</li>
									<li data-value="private" class="selected">All</li>
								</ul>
							</div>
							<input type="checkbox" id="tsd-filter-inherited" checked />
							<label class="tsd-widget" for="tsd-filter-inherited">Inherited</label>
							<input type="checkbox" id="tsd-filter-externals" checked />
							<label class="tsd-widget" for="tsd-filter-externals">Externals</label>
						</div>
					</div>
					<a href="#" class="tsd-widget menu no-caption" data-toggle="menu">Menu</a>
				</div>
			</div>
		</div>
	</div>
	<div class="tsd-page-title">
		<div class="container">
			<ul class="tsd-breadcrumb">
				<li>
					<a href="globals.html">Globals</a>
				</li>
			</ul>
			<h1> @textile/react-native-sdk</h1>
		</div>
	</div>
</header>
<div class="container container-main">
	<div class="row">
		<div class="col-8 col-content">
			<div class="tsd-panel tsd-typography">
				<h1 id="react-native-textile">React Native Textile</h1>
				<h2 id="installation">Installation</h2>
				<p><code>npm install @textile/react-native-sdk --save</code></p>
				<p><strong>Link the Framework</strong></p>
				<p><code>react-native link @textile/react-native-sdk</code></p>
				<p>Note: The iOS component of <code>@textile/react-native-sdk</code> should be installed using Cocoapods. <code>react-native-link</code> should do this correctly. More documentation coming here.</p>
				<p><strong>Update Android Gradle</strong></p>
				<p>You&#39;ll need to add Textile&#39;s maven repository to your project <code>build.gradle</code>&#39;s <code>allProjects.repositories</code> section:</p>
				<pre><code><span class="hljs-section">maven</span> { <span class="hljs-attribute">url</span> <span class="hljs-string">"https://dl.bintray.com/textile/maven"</span> }</code></pre><p><strong>Other dependencies</strong></p>
				<p>The Textile library also requires that your project has two other libraries installed. Following the installation instructions for the following two,</p>
				<ol>
					<li><a href="https://github.com/transistorsoft/react-native-background-fetch">react-native-background-fetch</a></li>
					<li><a href="https://github.com/ocetnik/react-native-background-timer">react-native-background-timer</a></li>
				</ol>
				<h3 id="typescript-types">Typescript Types</h3>
				<p>@textile/react-native-sdk is written in TypeScript and compiled to JavaScript. You can use either in your app.</p>
				<h4 id="import-model-types">Import Model Types</h4>
				<p>Most model types are in the <code>pb</code> (protobuf) models module. You can use it the types as follows.</p>
				<pre><code class="language-javascript"><span class="hljs-keyword">import</span> { API, pb } <span class="hljs-keyword">from</span> <span class="hljs-string">'@textile/react-native-sdk'</span>;

<span class="hljs-comment">// List all Threads</span>
<span class="hljs-keyword">const</span> threads: pb.ThreadList = <span class="hljs-keyword">yield</span> call(API.threads.list);</code></pre>
				<h2 id="examples">Examples</h2>
				<h3 id="react-native-boilerplate">React Native Boilerplate</h3>
				<p>To jump right into a working app, see our demo <a href="https://github.com/textileio/react-native-boilerplate">IPFS boilerplate app</a>.</p>
				<h3 id="advanced-boilerplate">Advanced Boilerplate</h3>
				<p>We also have a more advanced boilerplate that contains <code>react-navigation</code>, redux, and sagas together with Textile. Find that here, <a href="https://github.com/textileio/advanced-react-native-boilerplate/tree/master">advanced-react-native-boilerplate</a>.</p>
				<h2 id="run-textile">Run Textile</h2>
				<p>A few of the Textile methods require access to a single instance with stored state. This instance can be wired into your app in one single place and then communicated with over Events. The minimum requirement to wire Textile into your app are:</p>
				<h3 id="setup-teardown">Setup &amp; Teardown</h3>
				<pre><code class="language-javascript"><span class="hljs-keyword">import</span> Textile <span class="hljs-keyword">from</span> <span class="hljs-string">'@textile/react-native-sdk'</span>;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">App</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Component</span>&lt;<span class="hljs-title">Props</span>&gt; </span>{
  textile = Textile;

  componentDidMount() {
    <span class="hljs-keyword">this</span>.textile.setup();
  }

  componentWillUnMount() {
    <span class="hljs-keyword">this</span>.textile.tearDown();
  }

  render() {
    <span class="hljs-keyword">return</span> (
      <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">View</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">Text</span>&gt;</span>Textile<span class="hljs-tag">&lt;/<span class="hljs-name">Text</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">View</span>&gt;</span></span>
    )
  }
}</code></pre>
				<h3 id="listen-to-events">Listen to Events</h3>
				<p>Textile will send a number of events that your app can monitor in order to show information or change interfaces.</p>
				<h4 id="new-node-state">New Node State</h4>
				<p>You can monitor startup and shutdown events for the node.</p>
				<pre><code class="language-javascript"><span class="hljs-keyword">this</span>.events.addListener(<span class="hljs-string">'newNodeState'</span>, (payload) =&gt; {
  <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'New node state:'</span> payload.state)
})</code></pre>
				<h4 id="node-online">Node Online</h4>
				<p>Here is an example for listening for the Textile node to come online.</p>
				<pre><code class="language-javascript"><span class="hljs-keyword">this</span>.events.addListener(<span class="hljs-string">'NODE_ONLINE'</span>, () =&gt; {
  <span class="hljs-built_in">console</span>.info(<span class="hljs-string">'Textile node now online'</span>);
})</code></pre>
				<h3 id="optional-features">Optional Features</h3>
				<h4 id="trigger-background-updates">Trigger background updates</h4>
				<p>The node is designed to gracefully disconnect and wind-down tasks when the user backgrounds the containing app. However, some apps may choose to spin the node up in the background in order to sync data or discover new updates. The react-native library will attempt to fire these events on it&#39;s own when your app gets background time, however, the react-native detection of these events hasn&#39;t been 100%. Additionally, it is helpful if your app fires events based of native background &amp; location event triggers.</p>
				<p>You can do this in a background fetch triggered background event</p>
				<pre><code class="language-javascript">  <span class="hljs-keyword">import</span> Textile <span class="hljs-keyword">from</span> <span class="hljs-string">'@textile/react-native-sdk'</span>;

  ...
  setup () {
    BackgroundFetch.configure({}, () =&gt; {
      Textile.backgroundFetch();
    }, (error) =&gt; {})
  }</code></pre>
				<p>Or yu can do this in a location triggered background event</p>
				<pre><code class="language-javascript">  <span class="hljs-keyword">import</span> Textile <span class="hljs-keyword">from</span> <span class="hljs-string">'@textile/react-native-sdk'</span>;

  ...
  handleNewPosition () {
    Textile.locationUpdate();
  }</code></pre>
				<p><code>backgroundFetch</code> and <code>locationUpdate</code> are stateless APIs and can be run anywhere in your app without having to reference your initialized node.</p>
				<h3 id="use-the-textil-api">Use the Textil API</h3>
				<p>The API doesn&#39;t require an initialized Textile object and can be used anywhere in your code as long as Textile was previously initialized and is running.</p>
				<h4 id="import-the-api">Import the API</h4>
				<pre><code class="language-javascript"><span class="hljs-keyword">import</span> { API } <span class="hljs-keyword">from</span> <span class="hljs-string">'@textile/react-native-sdk'</span>;</code></pre>
				<h4 id="make-an-api-request">Make an API request</h4>
				<pre><code class="language-javascript">API.data(<span class="hljs-string">'QmTgtbb4LckHaXh1YhpNcBu48cFY8zgT1Lh49q7q7ksf3M'</span>);</code></pre>
			</div>
		</div>
		<div class="col-4 col-menu menu-sticky-wrap menu-highlight">
			<nav class="tsd-navigation primary">
				<ul>
					<li class="globals  ">
						<a href="globals.html"><em>Globals</em></a>
					</li>
					<li class=" tsd-kind-external-module">
						<a href="modules/_account_.html">"account"</a>
					</li>
					<li class=" tsd-kind-external-module">
						<a href="modules/_cafes_.html">"cafes"</a>
					</li>
					<li class=" tsd-kind-external-module">
						<a href="modules/_comments_.html">"comments"</a>
					</li>
					<li class=" tsd-kind-external-module">
						<a href="modules/_contacts_.html">"contacts"</a>
					</li>
					<li class=" tsd-kind-external-module">
						<a href="modules/_events_.html">"events"</a>
					</li>
					<li class=" tsd-kind-external-module">
						<a href="modules/_feed_.html">"feed"</a>
					</li>
					<li class=" tsd-kind-external-module">
						<a href="modules/_files_.html">"files"</a>
					</li>
					<li class=" tsd-kind-external-module">
						<a href="modules/_flags_.html">"flags"</a>
					</li>
					<li class=" tsd-kind-external-module">
						<a href="modules/_ignores_.html">"ignores"</a>
					</li>
					<li class=" tsd-kind-external-module">
						<a href="modules/_invites_.html">"invites"</a>
					</li>
					<li class=" tsd-kind-external-module">
						<a href="modules/_ipfs_.html">"ipfs"</a>
					</li>
					<li class=" tsd-kind-external-module">
						<a href="modules/_likes_.html">"likes"</a>
					</li>
					<li class=" tsd-kind-external-module">
						<a href="modules/_logs_.html">"logs"</a>
					</li>
					<li class=" tsd-kind-external-module">
						<a href="modules/_messages_.html">"messages"</a>
					</li>
					<li class=" tsd-kind-external-module">
						<a href="modules/_model_.html">"model"</a>
					</li>
					<li class=" tsd-kind-external-module">
						<a href="modules/_notifications_.html">"notifications"</a>
					</li>
					<li class=" tsd-kind-external-module">
						<a href="modules/_profile_.html">"profile"</a>
					</li>
					<li class=" tsd-kind-external-module">
						<a href="modules/_schemas_.html">"schemas"</a>
					</li>
					<li class=" tsd-kind-external-module">
						<a href="modules/_textile_.html">"textile"</a>
					</li>
					<li class=" tsd-kind-external-module">
						<a href="modules/_threads_.html">"threads"</a>
					</li>
					<li class=" tsd-kind-external-module">
						<a href="modules/_util_.html">"util"</a>
					</li>
					<li class=" tsd-kind-external-module">
						<a href="modules/_util_internal_.html">"util-<wbr>internal"</a>
					</li>
				</ul>
			</nav>
			<nav class="tsd-navigation secondary menu-sticky">
				<ul class="before-current">
				</ul>
			</nav>
		</div>
	</div>
</div>
<footer>
	<div class="container">
		<h2>Legend</h2>
		<div class="tsd-legend-group">
			<ul class="tsd-legend">
				<li class="tsd-kind-module"><span class="tsd-kind-icon">Module</span></li>
				<li class="tsd-kind-object-literal"><span class="tsd-kind-icon">Object literal</span></li>
				<li class="tsd-kind-variable"><span class="tsd-kind-icon">Variable</span></li>
				<li class="tsd-kind-function"><span class="tsd-kind-icon">Function</span></li>
				<li class="tsd-kind-function tsd-has-type-parameter"><span class="tsd-kind-icon">Function with type parameter</span></li>
				<li class="tsd-kind-index-signature"><span class="tsd-kind-icon">Index signature</span></li>
				<li class="tsd-kind-type-alias"><span class="tsd-kind-icon">Type alias</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-enum"><span class="tsd-kind-icon">Enumeration</span></li>
				<li class="tsd-kind-enum-member"><span class="tsd-kind-icon">Enumeration member</span></li>
				<li class="tsd-kind-property tsd-parent-kind-enum"><span class="tsd-kind-icon">Property</span></li>
				<li class="tsd-kind-method tsd-parent-kind-enum"><span class="tsd-kind-icon">Method</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-interface"><span class="tsd-kind-icon">Interface</span></li>
				<li class="tsd-kind-interface tsd-has-type-parameter"><span class="tsd-kind-icon">Interface with type parameter</span></li>
				<li class="tsd-kind-constructor tsd-parent-kind-interface"><span class="tsd-kind-icon">Constructor</span></li>
				<li class="tsd-kind-property tsd-parent-kind-interface"><span class="tsd-kind-icon">Property</span></li>
				<li class="tsd-kind-method tsd-parent-kind-interface"><span class="tsd-kind-icon">Method</span></li>
				<li class="tsd-kind-index-signature tsd-parent-kind-interface"><span class="tsd-kind-icon">Index signature</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-class"><span class="tsd-kind-icon">Class</span></li>
				<li class="tsd-kind-class tsd-has-type-parameter"><span class="tsd-kind-icon">Class with type parameter</span></li>
				<li class="tsd-kind-constructor tsd-parent-kind-class"><span class="tsd-kind-icon">Constructor</span></li>
				<li class="tsd-kind-property tsd-parent-kind-class"><span class="tsd-kind-icon">Property</span></li>
				<li class="tsd-kind-method tsd-parent-kind-class"><span class="tsd-kind-icon">Method</span></li>
				<li class="tsd-kind-accessor tsd-parent-kind-class"><span class="tsd-kind-icon">Accessor</span></li>
				<li class="tsd-kind-index-signature tsd-parent-kind-class"><span class="tsd-kind-icon">Index signature</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-constructor tsd-parent-kind-class tsd-is-inherited"><span class="tsd-kind-icon">Inherited constructor</span></li>
				<li class="tsd-kind-property tsd-parent-kind-class tsd-is-inherited"><span class="tsd-kind-icon">Inherited property</span></li>
				<li class="tsd-kind-method tsd-parent-kind-class tsd-is-inherited"><span class="tsd-kind-icon">Inherited method</span></li>
				<li class="tsd-kind-accessor tsd-parent-kind-class tsd-is-inherited"><span class="tsd-kind-icon">Inherited accessor</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-property tsd-parent-kind-class tsd-is-protected"><span class="tsd-kind-icon">Protected property</span></li>
				<li class="tsd-kind-method tsd-parent-kind-class tsd-is-protected"><span class="tsd-kind-icon">Protected method</span></li>
				<li class="tsd-kind-accessor tsd-parent-kind-class tsd-is-protected"><span class="tsd-kind-icon">Protected accessor</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-property tsd-parent-kind-class tsd-is-private"><span class="tsd-kind-icon">Private property</span></li>
				<li class="tsd-kind-method tsd-parent-kind-class tsd-is-private"><span class="tsd-kind-icon">Private method</span></li>
				<li class="tsd-kind-accessor tsd-parent-kind-class tsd-is-private"><span class="tsd-kind-icon">Private accessor</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-property tsd-parent-kind-class tsd-is-static"><span class="tsd-kind-icon">Static property</span></li>
				<li class="tsd-kind-call-signature tsd-parent-kind-class tsd-is-static"><span class="tsd-kind-icon">Static method</span></li>
			</ul>
		</div>
	</div>
</footer>
<div class="overlay"></div>
<script src="assets/js/main.js"></script>
<script>if (location.protocol == 'file:') document.write('<script src="assets/js/search.js"><' + '/script>');</script>
</body>
</html>